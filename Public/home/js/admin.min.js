/*! open-v1.1.27 created by John on 2017-01-20 23:12:29 */
"use strict";function hex(a){a=encodeURIComponent(a);var b=a.replace(/[^\d]*/g,"");return b.length>3&&(b=b.substr(b.length-4,3)),0===b.length&&(b="0"),parseInt(b)}var services=angular.module("lucky.admin.services",[]);services.config(["$httpProvider",function(a){a.interceptors.push(function(){return{request:function(a){return 0===a.url.indexOf("http")||a.url.endWith(".tmpl")?0===a.url.indexOf(paramsGlobal.apiHost)&&(a.url+=-1!==a.url.indexOf("?")?"&":"?",a.url=[a.url,"appid=",paramsGlobal.appid,"&sig=",encodeURIComponent(paramsGlobal.sig),"&se=",parseInt(paramsGlobal.se)+hex(paramsGlobal.sig)].join("")):(-1!==a.url.indexOf("/API/Web")||-1!==a.url.indexOf("API/Dictionary")||(a.url=paramsGlobal.app+a.url),a.url+=-1!==a.url.indexOf("?")?"&":"?",a.url=[a.url,"appid=",paramsGlobal.appid,"&sig=",encodeURIComponent(paramsGlobal.sig),"&se=",parseInt(paramsGlobal.se)+hex(paramsGlobal.sig)].join("")),a}}}),a.interceptors.push("LocalSessionExpired"),(window.ActiveXObject||"ActiveXObject"in window||navigator.userAgent.match(/Edge/))&&(a.defaults.headers.get||(a.defaults.headers.get={}),a.defaults.headers.get["If-Modified-Since"]="Thu, 01 Jan 1970 00:00:00 GMT")}]),services.factory("LocalSessionExpired",["$q","Utils",function(a,b){return{request:function(a){return a.headers["X-Requested-With"]="XMLHttpRequest",a},responseError:function(b){return 0===b.status&&location.reload(),a.reject(b)}}}]),services.service("Utils",["$document","$log",function(a,b){var c=function(a){var b=0>a?-a:a;if(b=b.toString(),/[^0-9\.]/.test(b))return b;var c="";RegExp("\\.").test(b)&&(strArr=b.split("."),b=strArr[0],c="."+strArr[1]);var d=b.length%3,e=0>a?"-":"";return d?e+b.slice(0,d)+b.slice(d).replace(/(\d{3})/g,",$1")+c:e+b.replace(/(\d{3})/g,",$1").slice(1)+c};this.contextPath=function(){return paramsGlobal.app},this.getApiHost=function(){return paramsGlobal.apiHost},this.toLocalDatetime=function(a){if(a){var b=/[0-9]+/i,c=b.exec(a),d=new Date;return d.setTime(c),this.dateFormat(d,"yyyy-MM-dd hh:mm:ss")}},this.dateFormat=function(a,b){return a.format(b)},this.numberFormat=function(a){return c(a)},this.numberFormatCashFlow=function(a,b){return(1==b?"+":"-")+c(a)},this.isExpiredLogin=function(a){return 401===a.status&&"Unauthorized"===a.statusText?!0:!1},this.dateRangeSep=function(){return" - "},this.dateRangeDefault=function(){var a=moment().startOf("month").format("YYYY-MM-DD"),b=moment().endOf("month").format("YYYY-MM-DD");return a+this.dateRangeSep()+b},this.dateRangeThisYear=function(){var a=moment().startOf("year").format("YYYY-MM-DD"),b=moment().endOf("year").format("YYYY-MM-DD");return a+this.dateRangeSep()+b},this.dateRangeToday=function(){var a=moment().startOf("day").format("YYYY-MM-DD"),b=moment().endOf("day").format("YYYY-MM-DD");return a+this.dateRangeSep()+b},this.dateRangeTodayTime=function(){var a=moment().startOf("day").format("YYYY-MM-DD HH:mm:ss"),b=moment().endOf("day").format("YYYY-MM-DD HH:mm:ss");return a+this.dateRangeSep()+b},this.parseDateRange=function(a){var b,c,d=this.dateRangeSep(),e=a.split(d);return 2==e.length&&(b=e[0],c=e[1]),{from:b,to:c}},this.calcDataTableHeight=function(a){var b=a.parents(".table-responsive").offset().top,c=Math.floor($(window).height()-b-84);return console.log("h:"+c),c+"px"},this.fnGetKey=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c].name==b)return a[c].value;return null},this.getChecked=function(a){var b=[];return $("."+a).each(function(){var a=$(this).is(":checked");a&&b.push($(this).val())}),b.join(",")},this.isBig=function(a){return a>13},this.isEven=function(a){return a%2===0},this.openSum=function(a){for(var b=a.split(","),c=0,d=0;d<b.length;d++)c+=parseInt(b[d]);return c}}]),services.service("HttpGames",["$http","$q","Utils",function(a,b,c){this.getLatest=function(d,e){var f=b.defer();return a.jsonp(c.getApiHost()+"/API/Web/"+d+"/Lot/"+e+"/Latest?callback=JSON_CALLBACK").success(function(a,b,c,d){f.resolve(a)}).error(function(a,b,c,d){f.reject(a)}),f.promise},this.history=function(d,e){var f=b.defer();return a.jsonp(c.getApiHost()+"/API/Web/"+d+"/MyOpens?callback=JSON_CALLBACK",{params:e}).success(function(a,b,c,d){f.resolve(a)}).error(function(a,b,c,d){f.reject(a)}),f.promise},this.getGame=function(d,e,f,g){var h=b.defer();return a.jsonp(c.getApiHost()+"/API/Web/"+d+"/Lot/"+e+"/"+f+"?callback=JSON_CALLBACK",{params:g}).success(function(a,b,c,d){h.resolve(a)}).error(function(a,b,c,d){h.reject(a)}),h.promise},this.getBP=function(d,e,f){var g=b.defer();return a.jsonp(c.getApiHost()+"/API/Web/"+d+"/"+e+"?callback=JSON_CALLBACK",{params:f}).success(function(a,b,c,d){g.resolve(a)}).error(function(a,b,c,d){g.reject(a)}),g.promise}}]),services.service("HttpDictionary",["$http","$q","Utils",function(a,b,c){this.get=function(d,e){var f=b.defer();return a.jsonp(c.getApiHost()+"/API/Dictionary/"+d+"?callback=JSON_CALLBACK",{params:e}).success(function(a,b,c,d){f.resolve(a)}).error(function(a,b,c,d){f.reject(a)}),f.promise}}]),services.service("HttpADs",["$http","$q",function(a,b){this.get=function(c){var d=b.defer();return a.get("/OpenAPI/"+c).success(function(a,b,c,e){d.resolve(a)}).error(function(a,b,c,e){d.reject(a)}),d.promise}}]),angular.module("lucky.filters",[]).filter("fShortDate",["Utils",function(a){return function(a){return void 0===a?"":new Date(a).format("MM-dd")}}]).filter("fLocalDate",["Utils",function(a){return function(b){return void 0!==b?a.dateFormat(new Date(b),"yyyy-MM-dd"):void 0}}]).filter("fLocalTime",["Utils",function(a){return function(b){return void 0!==b?a.dateFormat(new Date(b),"hh:mm:ss"):void 0}}]).filter("fLocalDateTime",["Utils",function(a){return function(b){return void 0!==b?a.dateFormat(new Date(b),"yyyy-MM-dd hh:mm:ss"):void 0}}]).filter("fOpenTime",["Utils",function(a){return function(b,c){return void 0!==b?(c=void 0===c?1:c,a.dateFormat(new Date(b),1===c?"MM-dd hh:mm":"MM-dd hh:mm:ss")):void 0}}]).filter("fNumber",["Utils",function(a){return function(b){return void 0!=b?a.numberFormat(b):void 0}}]).filter("fMiddleCode",["Utils",function(a){return function(a){return void 0!=a&&""!==a?a.replace(/,/g,"+"):void 0}}]).filter("fMiddleCodeTotal",[function(){return function(a){if(void 0!=a&&""!==a){for(var b=a.replace(/,/g,"+"),c=b.split("+"),d=0,e=0;e<c.length;e++)d+=parseInt(c[e]);return b+="="+d}}}]).filter("fMiddleCodeSum",["Utils",function(a){return function(b){return void 0==b||""===b?0:a.openSum(b)}}]).filter("fOpened",["$sce",function(a){return function(a){return void 0!=a?a===!0?'<i class="fa fa-check text-success text-active"></i>':"":void 0}}]).filter("fBigOrSmallPlay",["Utils",function(a){return function(b){return void 0!==b?a.isBig(b)?"大":"小":void 0}}]).filter("fBigOrSmallPlayColor",["Utils",function(a){return function(b){return void 0!==b?a.isBig(b)?"red-info":"blue-info":void 0}}]).filter("fEvenOrOddPlay",["Utils",function(a){return function(b){return void 0!==b?a.isEven(b)?"双":"单":void 0}}]).filter("fEvenOrOddPlayColor",["Utils",function(a){return function(b){return void 0!==b?a.isEven(b)?"red-info":"blue-info":void 0}}]).filter("fIsBig",["Utils",function(a){return function(b){return void 0!==b?a.isBig(b)?"大":"":void 0}}]).filter("fIsSmall",["Utils",function(a){return function(b){return void 0!==b?a.isBig(b)?"":"小":void 0}}]).filter("fIsEven",["Utils",function(a){return function(b){return void 0!==b?a.isEven(b)?"双":"":void 0}}]).filter("fIsOdd",["Utils",function(a){return function(b){return void 0!==b?a.isEven(b)?"":"单":void 0}}]).filter("fIsBigOdd",["Utils",function(a){return function(b){return void 0!==b?a.isBig(b)&&!a.isEven(b)?"大单":"":void 0}}]).filter("fIsBigEven",["Utils",function(a){return function(b){return void 0!==b?a.isBig(b)&&a.isEven(b)?"大双":"":void 0}}]).filter("fIsSmallOdd",["Utils",function(a){return function(b){return void 0!==b?a.isBig(b)||a.isEven(b)?"":"小单":void 0}}]).filter("fIsSmallEven",["Utils",function(a){return function(b){return void 0!==b?!a.isBig(b)&&a.isEven(b)?"小双":"":void 0}}]).filter("fCurrency",["Utils",function(a){return function(b){return void 0===b?"零元整":a.numToCny(b)}}]).filter("fAgentUrl",["$location",function(a){return function(b,c){return"80"===a.port()?[a.protocol(),"://",a.host(),c,"/",b].join(""):[a.protocol(),"://",a.host(),":",a.port(),c,"/",b].join("")}}]).filter("html",["$sce",function(a){return a.trustAsHtml}]);var controllers=angular.module("lucky.admin.controllers",[]);controllers.controller("openCtrl",["$scope","$compile","$window","$log","$interval","$timeout","$location","HttpGames","HttpDictionary","Utils","HttpADs",function(a,b,c,d,e,f,g,h,i,j,k){var l=a.ps;try{top.location.hostname,top.location.hostname!=window.location.hostname&&(top.location.href=window.location.href)}catch(m){top.location.href=window.location.href}a.ddlSection={index:0};angular.element(c);a.msgcontainer=document.getElementById("body"),a.loading=!1;var n=function(){var b=location.host.toLowerCase();b.indexOf("vip2.pc28.am")>-1||b.indexOf("vip2.pc28.in")>-1||k.get("AD").then(function(b){a.loading=!1,a.ADs=b},function(b){d.info(b),a.loading=!1})};n(),a.lotTypes=[{id:1,name:"北京",logo:"static/images/bjkl8_logo.png"},{id:2,name:"加拿大",logo:"static/images/canada_logo.png"}];var o=a.lotTypesMap={};angular.forEach(a.lotTypes,function(a){o[a.id]=a});var p=function(){var a=1e4;return parseInt(Math.random()*a+1)},q=p();a.displayResult=0,a.selectResult=function(){a.displayResult=0},a.selectTrend=function(){a.displayResult=1},a.selectBP=function(){a.displayResult=2,getBP()},a.$watch("curLotTypeId",function(b,c){b!=c&&void 0!=c&&(q=p(),a.opening=!1,C(D),z())}),a.changeLotType=function(b){3!==b&&(a.curLotTypeId=b)},a.ddlSections=[],a.$watchCollection("openHistoryDatas",function(b,c){if(0!==b.length){w(),a.ddlSections.length=0;for(var d=0;10>d;d++)void 0!==b[d]&&a.ddlSections.push(b[d])}}),a.$watch("ddlSection.index",function(b,c){if(b!==c){var d=a.ddlSections[b];s({section:d.section,openNums:d.middleCode})}});var r=a.openResultDisplay={},s=function(a){var b=B(a.openNums);r.section=a.section,r.openNum=b.t,r.middleNums=b.s},t=a.gPlays=[{id:1,name:"大"},{id:2,name:"小"},{id:3,name:"单"},{id:4,name:"双"},{id:5,name:"大单"},{id:6,name:"大双"},{id:7,name:"小单"},{id:8,name:"小双"}],u=a.gPlaysMap={};angular.forEach(t,function(a){u[a.id]=a});var v=function(a){var b=!1;angular.forEach(x,function(c,d){if(!b)switch(a){case 1:b=j.isBig(c.copen),b&&(u[a].notOpenNums=d);break;case 2:b=!j.isBig(c.copen),b&&(u[a].notOpenNums=d);break;case 3:b=!j.isEven(c.copen),b&&(u[a].notOpenNums=d);break;case 4:b=j.isEven(c.copen),b&&(u[a].notOpenNums=d);break;case 5:b=j.isBig(c.copen)&&!j.isEven(c.copen),b&&(u[a].notOpenNums=d);break;case 6:b=j.isBig(c.copen)&&j.isEven(c.copen),b&&(u[a].notOpenNums=d);break;case 7:b=!j.isBig(c.copen)&&!j.isEven(c.copen),b&&(u[a].notOpenNums=d);break;case 8:b=!j.isBig(c.copen)&&j.isEven(c.copen),b&&(u[a].notOpenNums=d)}})},w=function(){angular.forEach(t,function(a){v(a.id)})},x=a.openHistoryDatas=[];a.busyMsg=!0,a.loadingMsg=!1;var y=a.getOpenHistory=function(){if(!a.busyMsg){a.loadingMsg=!0,a.busyMsg=!0;var b=x.length;h.history(l.userId,{lt:a.curLotTypeId,ps:30,top:200,fi:b,echo:q}).then(function(b){q===b.echo&&(angular.forEach(b.data,function(a){a.copen=j.openSum(a.middleCode),x.push(a)}),x.length<b.totalRecords?a.busyMsg=!1:a.busyMsg=!0,a.loadingMsg=!1)},function(b){a.busyMsg=!1,a.loadingMsg=!1,d.error(b)})}},z=function(){x.length=0,a.busyMsg=!1,y()},A=function(b){x.splice(0,0,{section:b.section,middleCode:b.code,openTime:a.nextOpen.openTime,copen:j.openSum(b.code)}),a.ddlSection.index=0},B=function(a){var b=a.split(","),c=0;return angular.forEach(b,function(a){c+=parseInt(a)}),{t:c,s:b}};a.loadingLatest=!1;var C=function(b){a.loadingLatest=!0,h.getGame(l.userId,a.curLotTypeId,"Latest").then(function(c){var d=B(c.openNums);c.openNum=d.t,c.middleNums=d.s,a.latestOpen=c,s(a.latestOpen),a.loadingLatest=!1,b&&b()},function(b){a.loadingLatest=!1})},D=function(){h.getGame(l.userId,a.curLotTypeId,"Next",{cur:parseInt(a.latestOpen.section)+1}).then(function(b){a.nextOpen=b,a.nextOpen.endplay=!1,b.section||(a.nextOpen.endplay=!0),a.tim=b.openTime-b.serverTime,a.endplay=b.openTime-b.fsEndTime,console.log(a.endplay);var c=parseInt(a.latestOpen.section),d=parseInt(a.nextOpen.section);d-c>1&&(C(),z())})};a.$on("event.reset.ts",function(){console.log("fire event.reset.ts"),k.get("ServerTime").then(function(b){var c=b.t;a.tim=a.nextOpen.openTime-c})}),a.$on("event.lotopen",function(){var b;a.opening=!0,b=e(function(){h.getGame(l.userId,a.nextOpen.lt,"Open",{section:a.nextOpen.section}).then(function(c){if(c.code&&c.section!==a.latestOpen.section){var d=B(c.code);c.openNum=d.t,c.middleNums=d.s,a.latestOpen=c,s({section:c.section,openNums:c.code}),a.opening=!1,e.cancel(b),A(c),D()}})},3e3)}),k.get("ServerTime").then(function(b){var c=new Date(b.t),d=c.getHours();d>=0&&8>=d?a.curLotTypeId=2:a.curLotTypeId=1,C(D),f(function(){a.busyMsg=!1},500)}),a.$watch("busyMsg",function(a,b){a||f(function(){0===x.length&&y()},800)})}]),controllers.controller("bpCtrl",["$scope","$compile","$window","$log","HttpGames","Utils",function(a,b,c,d,e,f){var g=a.ps,h=90,i=80;e.getBP(g.userId,"DL",{lt:g.lt}).then(function(b){if(b.dl.length<h)for(var c=b.dl.length;h>c;c++)b.dl.push([{t:0,tn:0},{t:0,tn:0},{t:0,tn:0},{t:0,tn:0},{t:0,tn:0},{t:0,tn:0}]);if(b.dyzl.length<i)for(var c=b.dyzl.length;i>c;c++)b.dyzl.push([{t:0,tn:0},{t:0,tn:0},{t:0,tn:0},{t:0,tn:0},{t:0,tn:0},{t:0,tn:0}]);if(b.xl.length<i)for(var c=b.xl.length;i>c;c++)b.xl.push([{t:0,tn:0},{t:0,tn:0},{t:0,tn:0},{t:0,tn:0},{t:0,tn:0},{t:0,tn:0}]);if(b.gzl.length<i)for(var c=b.gzl.length;i>c;c++)b.gzl.push([{t:0,tn:0},{t:0,tn:0},{t:0,tn:0},{t:0,tn:0},{t:0,tn:0},{t:0,tn:0}]);a.bpAll=b},function(a){})}]);var dirs=angular.module("lucky.directives",[]);dirs.directive("ckFinder",["$compile","Utils",function(a,b){return{require:"?ngModel",link:function(b,c,d,e){var f=(d.id,a(angular.element('<span class="input-group-btn">                    <button class="btn btn-default btn-select" type="button" ng-click="selectFile()">选择...</button>                    </span>'))(b));$(c).after(f)},scope:{ngModel:"="},controller:["$scope","Utils",function(a,b){a.selectFile=function(){b.browseServerFile("Files",function(b){a.$apply(function(){a.ngModel=b})})}}]}}]),dirs.directive("loading",[function(){return{restrict:"E",replace:!0,transclude:!0,template:'<div class="fa fa-spinner fa fa-spin fa"></div>',scope:{loading:"=",className:"@"},link:function(a,b,c){c.className&&b.addClass(a.className),a.$watch("loading",function(a){a?$(b).show():$(b).hide()})}}}]),dirs.directive("mcSectionDropdownList",[function(){return{templateUrl:"/static/tmpl/section-dropdown-list.html",scope:{ddlModel:"=model",ddlIndex:"=",ngCls:"@ddlClass",selectFn:"&"},controller:["$scope",function(a){a.toggle=function(){a.openMenu=!a.openMenu},a.select=function(b){a.openMenu=!1,a.ddlIndex=b,a.selectFn({id:b})},a.next=function(){a.ddlIndex<=0||(a.ddlIndex--,a.openMenu=!1)},a.prev=function(){a.ddlIndex>=a.ddlModel.length-1||(a.ddlIndex++,a.openMenu=!1)}}],link:function(a,b,c){}}}]),dirs.directive("wSlideVertical",["$timeout",function(a){return{templateUrl:"/static/tmpl/w-slider-hor.html",scope:{wSlideVertical:"=",wHref:"@"},link:function(b,c,d){b.$watch("wSlideVertical",function(b){if(b){if(0===b.length)return;a(function(){$(c).royalSlider({slidesOrientation:d.wSlideOrientation,arrowsNav:!1,loop:!1,keyboardNavEnabled:!0,controlsInside:!1,imageScaleMode:"fill",arrowsNavAutoHide:!1,autoScaleSlider:!0,autoScaleSliderWidth:1140,autoScaleSliderHeight:250,controlNavigation:d.wControlNavigation,thumbsFitInViewport:!1,navigateByClick:!0,startSlideId:0,transitionType:"move",globalCaption:!1,globalCaptionInside:!1,deeplinking:{enabled:!0,change:!1},autoPlay:{enabled:!0,delay:2e3},imgWidth:1140,imgHeight:250})})}})}}}]),dirs.directive("mcTimer",["$interval",function(a){return{template:'<span>下一期:</span><b class="ng-cloak" ng-show="t.hour>0">{{t.h}}</b><span ng-show="t.hour>0">小时</span><b>{{t.m}}</b><span>分</span><b>{{t.s}}</b><span>秒</span>',scope:{ms:"=",endplayMs:"=endMs"},link:function(b,c,d){var e,f=b.t={h:"--",m:"--",s:"--"};b.$watch("ms",function(c,d){if(void 0!==c){e&&a.cancel(e),console.log("n="+c);var g=c/1e3,h=b.endplayMs/1e3,i=(new Date).getTime(),j=0;e=a(function(){if(g>=1){g-=1;var c=(Math.floor(g/3600/24),Math.floor(g/3600%24)),d=Math.floor(g/60%60),k=Math.floor(g%60);f.h=10>c?"0"+c:c,f.hour=c,f.m=10>d?"0"+d:d,f.s=10>k?"0"+k:k,j++;var l=(new Date).getTime()-(i+1e3*j);Math.abs(l)>500&&b.$emit("event.reset.ts"),h>=g&&b.$emit("event.endplay")}else f.h=f.m=f.s="00",b.$emit("event.lotopen"),a.cancel(e)},1e3)}}),b.$on("$destroy",function(){a.cancel(e)})}}}]),String.prototype.endWith=function(a){return null==a||""==a||0==this.length||a.length>this.length?!1:this.substring(this.length-a.length)==a},Date.prototype.format=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in b)new RegExp("("+c+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a};var mpcc=angular.module("lucky.admin",["lucky.filters","lucky.admin.services","lucky.admin.controllers","lucky.directives","infinite-scroll"]).run(["$rootScope",function(a){var b=a.ps=paramsGlobal;b.userId=2,b.apiHost="http://mopen.trafficmanager.net",b.sig&&(b.sig=decodeURIComponent(b.sig))}]);+function(a){function b(b){a(d).remove(),a(e).each(function(){var d=c(a(this)),e={relatedTarget:this};d.hasClass("open")&&(d.trigger(b=a.Event("hide.bs.dropdown",e)),b.isDefaultPrevented()||d.removeClass("open").trigger("hidden.bs.dropdown",e))})}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}var d=".dropdown-backdrop",e="[data-toggle=dropdown]",f=function(b){a(b).on("click.bs.dropdown",this.toggle)};f.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;f.toggleClass("open").trigger("shown.bs.dropdown",h),e.focus()}return!1}},f.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var f=c(d),g=f.hasClass("open");if(!g||g&&27==b.keyCode)return 27==b.which&&f.find(e).focus(),d.click();var h=" li:not(.divider):visible a",i=f.find("[role=menu]"+h+", [role=listbox]"+h);if(i.length){var j=i.index(i.filter(":focus"));38==b.keyCode&&j>0&&j--,40==b.keyCode&&j<i.length-1&&j++,~j||(j=0),i.eq(j).focus()}}}};var g=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new f(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=f,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=g,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",e,f.prototype.toggle).on("keydown.bs.dropdown.data-api",e+", [role=menu], [role=listbox]",f.prototype.keydown)}(jQuery);
